:root{
  --bg:#0b1a0f;        /* deep forest */
  --panel:#101f14;     /* card */
  --muted:#1a2b1f;
  --accent:#6dbc5d;    /* green */
  --text:#e7f1e8;
  --subtle:#a3b7a6;
  --danger:#f87171;
  --shadow:0 12px 30px rgba(0,0,0,.35);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --logo-size: 128px;  /* desktop/tablet logo height */
}

html,body,#app{height:100%;margin:0;background:var(--bg);color:var(--text);font-family:system-ui,Roboto,Arial,sans-serif}
#map{position:fixed;inset:0;height:100dvh}
#map.placing{cursor: crosshair}

/* Zoom pushdown – no overlap */
.leaflet-control-zoom { margin-top: 120px !important; }

/* Top-left Layers button */
#bhhLayersBtn{position:fixed;top:12px;left:12px;z-index:1100}
#bhhLayersBtn button{background:var(--panel);border:1px solid var(--accent);color:var(--text);padding:10px 16px;border-radius:12px;font-weight:bold;font-size:14px;box-shadow:var(--shadow)}

/* Top-right logo + state badge */
#topRightContainer{position:fixed;top:12px;right:12px;z-index:1100;display:flex;gap:12px;align-items:center}
.map-logo{pointer-events:none}
.map-logo img{height:var(--logo-size);width:auto;border-radius:10px;background:rgba(16,31,20,.6);padding:6px;box-shadow:0 6px 18px rgba(0,0,0,.35)}
#stateBadge{background:var(--panel);border:1px solid var(--accent);border-radius:12px;padding:8px 14px;font-size:14px;font-weight:bold;box-shadow:var(--shadow)}

/* Info panel */
.panel{position:fixed;left:12px;top:80px;z-index:1000;background:var(--panel);border:1px solid #203325;border-radius:12px;box-shadow:var(--shadow);padding:8px 10px;min-width:180px;max-width:260px}
.panel h3{margin:0 0 6px;font-size:14px;display:flex;align-items:center;gap:8px;cursor:move}
.row{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:4px 0;border-bottom:1px solid #1d3323}
.row:last-child{border-bottom:0}
.tag{font-size:11px;color:var(--subtle)}

.main-menu{
  position:fixed;left:0;right:0;bottom:0;z-index:1200;
  display:flex;gap:8px;justify-content:space-around;align-items:center;
  padding:10px 12px calc(10px + env(safe-area-inset-bottom, 0px));
  background:linear-gradient(180deg,rgba(11,26,15,.1),rgba(11,26,15,.85));
  backdrop-filter:blur(8px);border-top:1px solid #203325;flex-wrap:wrap;
}
.main-menu button{
  flex:1;max-width:140px;padding:10px;border:1px solid #25432b;border-radius:12px;
  background:#14271a;color:#e7f1e8;font-size:14px;cursor:pointer;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.main-menu button[data-shop]{
  background:#6dbc5d;color:#000;font-weight:bold;
}

/* Backdrop + sheets – your original */
.backdrop{position:fixed;inset:0;background:rgba(0,0,0,.35);z-index:1199;display:none}
.backdrop.show{display:block}
.sheet{position:fixed;left:0;right:0;bottom:0;z-index:1200;background:var(--panel);border-top:1px solid #203325;border-radius:16px 16px 0 0;box-shadow:var(--shadow);transform:translateY(110%);transition:transform .25s ease}
.sheet.show{transform:translateY(0)}
.sheet .grab{width:36px;height:4px;border-radius:999px;background:#2b4231;margin:8px auto}
.sheet .close-x{position:absolute;top:8px;right:12px;width:32px;height:32px;border-radius:10px;border:1px solid #25432b;background:#14271a;color:var(--text);font-size:18px;line-height:30px;text-align:center;cursor:pointer}
.seglabel,.county-label{background:rgba(16,31,20,.92);border:1px solid #203325;border-radius:10px;padding:2px 6px;font-size:11px;color:var(--text);box-shadow:var(--shadow)}
.pulse-dot{width:16px;height:16px;border-radius:50%;background:#3b82f6;border:3px solid #1d4ed8;box-shadow:0 0 0 rgba(59,130,246,.5);animation:pulse 2s infinite}
@keyframes pulse{0%{box-shadow:0 0 0 0 rgba(59,130,246,.5)}70%{box-shadow:0 0 0 16px rgba(59,130,246,0)}100%{box-shadow:0 0 0 0 rgba(59,130,246,0)}}
@media (max-width:640px){:root{--logo-size:96px}.panel{left:8px;top:72px}}
/* High-contrast overlay for readability on satellite */
.leaflet-container:after{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.1);pointer-events:none;z-index:400}
