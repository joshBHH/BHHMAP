:root{
  --bg:#000000;
  --panel:#1a1a1a;
  --text:#ffffff;
  --accent:#00ff41;
  --subtle:#aaaaaa;
  --danger:#ff4444;
  --shadow:0 8px 32px rgba(0,0,0,0.8);
  --safe-bottom:env(safe-area-inset-bottom,0px);
  --logo-size:96px;
}

html,body,#app{height:100%;margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,sans-serif}
#map{position:fixed;inset:0;height:100dvh}

/* ZOOM CONTROLS NEVER COVERED – pushed down safely */
.leaflet-control-zoom {
  margin-top: 120px !important;
}

/* Top-left Layers button */
#bhhLayersBtn{
  position:fixed;top:12px;left:12px;z-index:1100;
}
#bhhLayersBtn button{
  background:#222;border:1px solid var(--accent);color:var(--text);padding:10px 16px;border-radius:12px;font-weight:bold;font-size:14px;
}

/* Top-right: State badge + logo */
#topRightContainer{
  position:fixed;top:12px;right:12px;z-index:1100;display:flex;gap:12px;align-items:center;
}
#stateBadge{
  background:#000000dd;border:1px solid var(--accent);border-radius:12px;padding:8px 14px;font-size:14px;font-weight:bold;box-shadow:var(--shadow);
}
.map-logo img{
  height:var(--logo-size);border-radius:12px;background:rgba(0,0,0,0.7);padding:8px;box-shadow:var(--shadow);
}

/* Bottom menu – small, crisp, perfect spacing */
.main-menu{
  position:fixed;left:0;right:0;bottom:0;z-index:1200;display:flex;gap:8px;justify-content:space-around;padding:10px 12px calc(10px + var(--safe-bottom));
  background:linear-gradient(180deg,rgba(0,0,0,0.2),rgba(0,0,0,0.9));backdrop-filter:blur(12px);border-top:1px solid #333;flex-wrap:wrap;
}
.main-menu button{
  flex:1;max-width:140px;padding:10px 6px;font-size:13px;background:#222;border:1px solid var(--accent);border-radius:12px;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.main-menu button[data-shop]{
  background:var(--accent);color:#000;font-weight:bold;
}
.wind-btn{color:var(--accent);display:flex;align-items:center;gap:6px}

/* Sheets & panels */
.panel,.sheet{
  background:var(--panel);border:1px solid #333;color:var(--text);box-shadow:var(--shadow);border-radius:12px 12px 0 0;
}
.sheet{
  position:fixed;bottom:0;left:0;right:0;z-index:1200;
  transform:translateY(110%);transition:transform .25s ease;
}
.sheet.show{transform:translateY(0)}
.sheet .grab{
  background:var(--accent);height:4px;width:36px;border-radius:999px;margin:8px auto;
}
.sheet .close-x{
  position:absolute;top:8px;right:12px;background:#222;border:1px solid #333;width:36px;height:36px;border-radius:50%;font-size:20px;line-height:34px;text-align:center;
}
.sheet .content{padding:0 16px 16px}
.option{
  padding:12px 0;border-bottom:1px solid #333;cursor:pointer;display:flex;justify-content:space-between;align-items:center;
}
.option:last-child{border-bottom:none}
.tag{color:var(--accent);font-weight:bold;font-size:12px}

/* Backdrop */
.backdrop{
  position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:1199;display:none;
}
.backdrop.show{display:block}

/* Radar toggle style */
#toggleRadar{
  accent-color:var(--accent);
}

/* Wind arrow */
.wind-arrow{
  display:inline-block;width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:12px solid var(--accent);transform:rotate(0deg);
}
.leaflet-control-zoom { margin-top: 120px !important; }
