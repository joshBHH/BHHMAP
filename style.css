:root{
  --bg:#0b1a0f;--panel:#101f14;--muted:#1a2b1f;--accent:#6dbc5d;--text:#e7f1e8;--subtle:#a3b7a6;--danger:#f87171;--shadow:0 12px 30px rgba(0,0,0,.35);--safe-bottom:env(safe-area-inset-bottom,0px);--logo-size:128px;
}
html,body,#app{height:100%;margin:0;background:var(--bg);color:var(--text);font-family:system-ui,Roboto,Arial,sans-serif}
#map{position:fixed;inset:0;height:100dvh}
.map-logo{position:fixed;right:12px;top:12px;z-index:1300;pointer-events:none}
.map-logo img{height:var(--logo-size);width:auto;border-radius:10px;background:rgba(16,31,20,.6);padding:6px;box-shadow:0 6px 18px rgba(0,0,0,.35)}
.panel{position:fixed;left:12px;top:80px;z-index:1000;background:var(--panel);border:1px solid #203325;border-radius:12px;box-shadow:var(--shadow);padding:8px 10px;min-width:180px;max-width:260px}
.panel h3{margin:0 0 6px;font-size:14px;display:flex;align-items:center;gap:8px;cursor:move}
.row{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:4px 0;border-bottom:1px solid #1d3323}
.row:last-child{border-bottom:0}
.tag{font-size:11px;color:var(--subtle)}
.main-menu{position:fixed;left:0;right:0;bottom:0;z-index:1200;display:flex;gap:8px;justify-content:space-around;padding:10px 12px calc(10px + var(--safe-bottom));background:linear-gradient(180deg,rgba(11,26,15,.1),rgba(11,26,15,.85));backdrop-filter:blur(8px);border-top:1px solid #203325;flex-wrap:wrap}
.main-menu button{flex:1;max-width:140px;padding:10px;border:1px solid #25432b;border-radius:12px;background:#14271a;color:var(--text);font-size:14px;cursor:pointer}
.wind-btn{display:flex;align-items:center;gap:8px;max-width:260px}
#windText{font-size:12px}
.wind-arrow{width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:12px solid #e7f1e8;display:inline-block;transform:rotate(0deg)}
.backdrop{position:fixed;inset:0;background:rgba(0,0,0,.35);z-index:1199;display:none}
.backdrop.show{display:block}
.sheet{position:fixed;left:0;right:0;bottom:0;z-index:1200;background:var(--panel);border-top:1px solid #203325;border-radius:16px 16px 0 0;box-shadow:var(--shadow);transform:translateY(110%);transition:transform .25s ease}
.sheet.show{transform:translateY(0)}
.sheet .grab{width:36px;height:4px;border-radius:999px;background:#2b4231;margin:8px auto}
.sheet .close-x{position:absolute;top:8px;right:12px;width:32px;height:32px;border-radius:10px;border:1px solid #25432b;background:#14271a;color:var(--text);font-size:18px;line-height:30px;text-align:center;cursor:pointer}
.content{padding:0 16px 16px}
.option{padding:12px 0;border-bottom:1px solid #1d3323;display:flex;justify-content:space-between;align-items:center;cursor:pointer}
.option:last-child{border-bottom:0}
.leaflet-control-zoom{margin-top:120px !important}
@media (max-width:640px){
  :root{--logo-size:96px}
  .main-menu{gap:4px;padding:8px 10px calc(8px + var(--safe-bottom))}
  .main-menu button{font-size:12px;max-width:120px;padding:8px}
  .map-logo{top:8px;right:8px}
  #bhhLayersBtn{top:8px;left:8px}
  #bhhLayersBtn button{padding:8px 12px;font-size:12px}
  #stateBadge{top:8px;padding:4px 8px;font-size:12px}
  .sheet .content{padding:0 8px 8px}
  .option{padding:8px 0}
}
